<tree model="stock.picking" criteria='[["state", "=", "assigned"]]'>
  <param name="class">print</param>
  <param name="copy_method">copy</param>
  <param name="style">width: 400px; margin: 0 auto;</param>

  <field name="date">
    <param name="hide">1</param>
  </field>
  <field name="move_lines">
    <field name="product_id">
      <field name="default_code" string="SKU"/>
    </field>
    <field name="product_qty" string="Qty"/>
  </field>
  <field name="carrier_id" string="Carrier">
    <field name="name"/>
  </field>

  <filter>
    <function>
      <source name="func:pregMatch">
        <arg tal:content="param/regex"/>
      </source>
      <field>carrier_id.name</field>
    </function>

    <func>
      <src name="func:beforeCloseTime" tal:attributes="not param/after"/>
      <fld>date</fld>
    </func>
  </filter>
</tree>
